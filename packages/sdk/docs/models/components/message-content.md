# MessageContent

Message content container. Groups all message-related fields together,
separating the "what" (message content) from the "where" (routing fields like from/to).


## Example Usage

```typescript
import { MessageContent } from "@linqapp/sdk/models/components";

let value: MessageContent = {
  parts: [
    {
      type: "text",
      value: "Check this out!",
    },
    {
      type: "media",
      url:
        "https://skywalker-next.linqapp.com/_next/static/media/conversations-imessage.0dc825b0.png",
    },
  ],
  effect: {
    type: "screen",
    name: "confetti",
  },
  replyTo: {
    messageId: "550e8400-e29b-41d4-a716-446655440000",
    partIndex: 0,
  },
  idempotencyKey: "msg-abc123xyz",
  preferredService: "iMessage",
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `parts`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *components.MessagePart*[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Array of message parts. Each part can be either text or media.<br/>Parts are displayed in order. Text and media can be mixed.<br/><br/>**Supported Media:**<br/>- Images: .jpg, .jpeg, .png, .gif, .heic, .heif, .tif, .tiff, .bmp<br/>- Videos: .mp4, .mov, .m4v, .mpeg, .mpg, .3gp<br/>- Documents: .pdf, .txt, .rtf, .csv, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .pages, .numbers, .key, .epub, .zip, .html, .htm<br/>- Contact & Calendar: .vcf, .ics<br/><br/>**Audio Handling:**<br/>- Audio files (voice memos) should use the dedicated `/v3/chats/{chatId}/voicememo` endpoint<br/>- This ensures proper voice memo formatting and playback in iMessage<br/><br/>**Validation Rule:** Consecutive text parts are not allowed. Text parts must<br/>be separated by media parts. For example, [text, text] is invalid, but<br/>[text, media, text] is valid.<br/> | [<br/>{<br/>"type": "text",<br/>"value": "Check this out!"<br/>},<br/>{<br/>"type": "media",<br/>"url": "https://skywalker-next.linqapp.com/_next/static/media/conversations-imessage.0dc825b0.png"<br/>}<br/>]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `effect`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | [components.MessageEffect](../../models/components/message-effect.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | iMessage effect applied to a message (screen or bubble effect)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `replyTo`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | [components.ReplyTo](../../models/components/reply-to.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Indicates this message is a threaded reply to another message                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `idempotencyKey`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Optional idempotency key for this message.<br/>Use this to prevent duplicate sends of the same message.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | msg-abc123xyz                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `preferredService`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | [components.MessageContentPreferredService](../../models/components/message-content-preferred-service.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Preferred messaging service to use for this message.<br/>If not specified, uses default fallback chain: iMessage → RCS → SMS.<br/>- iMessage: Enforces iMessage without fallback to RCS or SMS. Message fails if recipient doesn't support iMessage.<br/>- RCS: Enforces RCS or SMS (no iMessage). Uses RCS if recipient supports it, otherwise falls back to SMS.<br/>- SMS: Enforces SMS (no iMessage). Uses RCS if recipient supports it, otherwise falls back to SMS.<br/>                                                                                                                                                                                                                                                                                                                            | iMessage                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |